{% extends "base_template.html.twig" %}

{% block content %}
<ul>
    {% if utilisateur %}
        <h1>{{ utilisateur.pseudo }}</h1>
        <li>
            {{ utilisateur.photoProfil }} - {{ utilisateur.banniereProfil }} - {{ utilisateur.adressMail }} - {{ utilisateur.role }}
        </li>

        <!-- Changer pseudo -->
        <a href="#" class="btn btn-light-custom mx-2" onclick="changerPseudo({{ utilisateur.idUtilisateur }})">Changer Pseudo</a>

        <!-- Script JavaScript pour demander un nouveau pseudo -->
        <script>
            function changerPseudo(userId) {
                const newPseudo = prompt("Entrez le nouveau pseudo :");
                if (newPseudo) {
                    window.location.href = `index.php?controleur=utilisateur&methode=changerPseudo&id=${userId}&pseudo=${encodeURIComponent(newPseudo)}`;
                }
            }
        </script>

        <!-- Changer mail -->
        <a href="#" class="btn btn-light-custom mx-2" onclick="changerMail({{ utilisateur.idUtilisateur }})">Changer Mail</a>

        <!-- Script JavaScript pour demander un nouveau mail -->
        <script>
            function changerMail(userId) {
                const newMail = prompt("Entrez le nouveau mail :");
                if (newMail) {
                    window.location.href = `index.php?controleur=utilisateur&methode=changerMail&id=${userId}&mail=${encodeURIComponent(newMail)}`;
                }
            }
        </script>
    {% else %}
        <li>Aucun utilisateur trouv√©.</li>
    {% endif %}

    {% if message is defined %}
        <div class="alert alert-info">
            {{ message }}
        </div>
    {% endif %}

</ul>
{% endblock %}
